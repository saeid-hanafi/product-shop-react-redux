{"ast":null,"code":"var _jsxFileName = \"/var/www/html/reactjs/products/src/App.js\";\nimport React from 'react';\nimport Header from \"./components/Header\";\nimport './App.css';\nimport Products from \"./components/Products\";\nimport { func } from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getSearchResult = event => {\n      let result = [];\n      let searchVal = event.target.value;\n\n      if (typeof searchVal === \"string\") {\n        this.state.products.map(productInfo => {\n          if (productInfo.id === searchVal || productInfo.name.search(searchVal) >= 0 || productInfo.brand.search(searchVal) >= 0) {\n            result.push(productInfo.name);\n          }\n        });\n      }\n\n      return result;\n    };\n\n    this.addToCartHandler = productID => {\n      let product = this.state.products.find(product => productID === product.id);\n      let basket = this.state.basket.basket_items.findIndex(basket => productID === basket.id);\n\n      if (basket >= 0 && typeof product === \"object\") {\n        let getBasket = this.state.basket;\n        getBasket.basket_items[basket].count += 1;\n        this.setState({\n          basket: getBasket\n        });\n      } else if (typeof product === \"object\") {\n        product.count = 1;\n        this.setState({\n          basket: {\n            basket_items: [...this.state.basket.basket_items, product],\n            basket_items_id: [...this.state.basket.basket_items_id, productID]\n          }\n        });\n      }\n    };\n\n    this.removeBasketItems = productID => {\n      let basket = this.state.basket.basket_items;\n      let basketIDs = this.state.basket.basket_items_id;\n      let basketIndex = basket.findIndex(basketItem => productID === basketItem.id);\n      let basketIDIndex = basketIDs.findIndex(itemID => productID === itemID);\n\n      if (basketIndex >= 0 && basketIDIndex >= 0) {\n        basket.splice(basketIndex, 1);\n        basketIDs.splice(basketIDIndex, 1);\n        this.setState({\n          basket: {\n            basket_items: basket,\n            basket_items_id: basketIDs\n          }\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        serchRes: this.getSearchResult,\n        removeBasket: this.removeBasketItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Products, {\n        addToCart: this.addToCartHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n;","map":{"version":3,"names":["React","Header","Products","func","App","Component","constructor","props","getSearchResult","event","result","searchVal","target","value","state","products","map","productInfo","id","name","search","brand","push","addToCartHandler","productID","product","find","basket","basket_items","findIndex","getBasket","count","setState","basket_items_id","removeBasketItems","basketIDs","basketIndex","basketItem","basketIDIndex","itemID","splice","render"],"sources":["/var/www/html/reactjs/products/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport Header from \"./components/Header\";\r\nimport './App.css';\r\nimport Products from \"./components/Products\";\r\nimport {func} from \"prop-types\";\r\n\r\nexport default class App  extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    getSearchResult = event => {\r\n        let result      = [];\r\n        let searchVal   = event.target.value;\r\n        if (typeof searchVal === \"string\") {\r\n            this.state.products.map(productInfo => {\r\n                if (productInfo.id === searchVal ||\r\n                    productInfo.name.search(searchVal) >= 0 ||\r\n                    productInfo.brand.search(searchVal) >= 0) {\r\n                    result.push(productInfo.name);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    addToCartHandler = (productID) => {\r\n        let product = this.state.products.find(product => (productID === product.id));\r\n        let basket  = this.state.basket.basket_items.findIndex(basket => (productID === basket.id));\r\n\r\n        if (basket >= 0 && typeof product === \"object\") {\r\n            let getBasket = this.state.basket;\r\n            getBasket.basket_items[basket].count += 1;\r\n            this.setState({\r\n                basket: getBasket,\r\n            })\r\n        }else if (typeof product === \"object\") {\r\n            product.count = 1;\r\n            this.setState({\r\n                basket: {\r\n                    basket_items: [...this.state.basket.basket_items, product],\r\n                    basket_items_id: [...this.state.basket.basket_items_id, productID],\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    removeBasketItems = (productID) => {\r\n        let basket = this.state.basket.basket_items;\r\n        let basketIDs = this.state.basket.basket_items_id;\r\n        let basketIndex = basket.findIndex(basketItem => (productID === basketItem.id));\r\n        let basketIDIndex = basketIDs.findIndex(itemID => (productID === itemID));\r\n\r\n        if (basketIndex >= 0 && basketIDIndex >= 0) {\r\n            basket.splice(basketIndex, 1);\r\n            basketIDs.splice(basketIDIndex, 1);\r\n            this.setState({\r\n                basket: {\r\n                    basket_items: basket,\r\n                    basket_items_id: basketIDs,\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header serchRes={this.getSearchResult} removeBasket={this.removeBasketItems}/>\r\n                <Products addToCart={this.addToCartHandler}/>\r\n            </div>\r\n        );\r\n    }\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}