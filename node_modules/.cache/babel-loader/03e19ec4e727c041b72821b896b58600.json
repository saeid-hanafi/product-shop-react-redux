{"ast":null,"code":"var _jsxFileName = \"/var/www/html/reactjs/products/src/App.js\";\nimport React from 'react';\nimport Header from \"./components/Header\";\nimport './App.css';\nimport Products from \"./components/Products\";\nimport { func } from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getSearchResult = event => {\n      let result = [];\n      let searchVal = event.target.value;\n\n      if (typeof searchVal === \"string\") {\n        this.state.products.map(productInfo => {\n          if (productInfo.id === searchVal || productInfo.name.search(searchVal) >= 0 || productInfo.brand.search(searchVal) >= 0) {\n            result.push(productInfo.name);\n          }\n        });\n      }\n\n      return result;\n    };\n\n    this.addToCartHandler = productID => {\n      let basket = this.state.basket;\n      let productIndex = this.state.products.findIndex(product => productID === product.id);\n      let basketIndex = basket.basket_items.findIndex(basket => productID === basket.id);\n\n      if (basketIndex >= 0) {\n        basket.basket_items[basketIndex].count += 1;\n        basket.basket_items_id.push(productID);\n        this.setState({\n          basket: basket\n        });\n      } else if (productIndex >= 0) {\n        basket.basket_items.push(this.state.products[productIndex]);\n        basket.basket_items_id.push(productID);\n        this.setState({\n          basket: basket\n        });\n      }\n\n      return this.state.basket;\n    };\n\n    this.state = {\n      products: [{\n        id: 1,\n        name: \"پیراهن مردانه زی مدل 153113872\",\n        brand: \"Zi\",\n        hasDiscount: true,\n        discountValue: 235000,\n        hasOff: true,\n        offValue: 51,\n        image: \"/images/products/1.jpg\",\n        price: 90000\n      }, {\n        id: 2,\n        name: \"پیراهن مردانه ال سی وایکیکی مدل 9SJ537G8-CRP\",\n        brand: \"LC Waikiki\",\n        hasDiscount: true,\n        discountValue: 206000,\n        hasOff: true,\n        offValue: 30,\n        image: \"/images/products/111356841.jpg\",\n        price: 144000\n      }, {\n        id: 3,\n        name: \"پیراهن جین مردانه - مانگو\",\n        brand: \"Mango\",\n        hasDiscount: false,\n        discountValue: 0,\n        hasOff: false,\n        offValue: 0,\n        image: \"/images/products/105705191.jpg\",\n        price: 890000\n      }, {\n        id: 4,\n        name: \"پیراهن مردانه فرد کد p.baz.244 \",\n        brand: \"FRED\",\n        hasDiscount: true,\n        discountValue: 59000,\n        hasOff: true,\n        offValue: 51,\n        image: \"/images/products/113013122.jpg\",\n        price: 29000\n      }],\n      basket: {\n        basket_items: [{\n          id: 4,\n          name: \"پیراهن مردانه فرد کد p.baz.244 \",\n          brand: \"FRED\",\n          hasDiscount: true,\n          discountValue: 59000,\n          hasOff: true,\n          offValue: 51,\n          image: \"/images/products/113013122.jpg\",\n          price: 29000,\n          count: 1\n        }],\n        basket_items_id: [4]\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        basket: this.state.basket,\n        serchRes: this.getSearchResult\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Products, {\n        products: this.state.products,\n        addToCart: this.addToCartHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n;","map":{"version":3,"names":["React","Header","Products","func","App","Component","constructor","props","getSearchResult","event","result","searchVal","target","value","state","products","map","productInfo","id","name","search","brand","push","addToCartHandler","productID","basket","productIndex","findIndex","product","basketIndex","basket_items","count","basket_items_id","setState","hasDiscount","discountValue","hasOff","offValue","image","price","render"],"sources":["/var/www/html/reactjs/products/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport Header from \"./components/Header\";\r\nimport './App.css';\r\nimport Products from \"./components/Products\";\r\nimport {func} from \"prop-types\";\r\n\r\nexport default class App  extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products : [\r\n                {\r\n                    id : 1,\r\n                    name : \"پیراهن مردانه زی مدل 153113872\",\r\n                    brand : \"Zi\",\r\n                    hasDiscount : true,\r\n                    discountValue : 235000,\r\n                    hasOff : true,\r\n                    offValue : 51,\r\n                    image  : \"/images/products/1.jpg\",\r\n                    price : 90000\r\n                },\r\n                {\r\n                    id : 2,\r\n                    name : \"پیراهن مردانه ال سی وایکیکی مدل 9SJ537G8-CRP\",\r\n                    brand : \"LC Waikiki\",\r\n                    hasDiscount : true,\r\n                    discountValue : 206000,\r\n                    hasOff : true,\r\n                    offValue : 30,\r\n                    image  : \"/images/products/111356841.jpg\",\r\n                    price : 144000\r\n                },\r\n                {\r\n                    id : 3,\r\n                    name : \"پیراهن جین مردانه - مانگو\",\r\n                    brand : \"Mango\",\r\n                    hasDiscount : false,\r\n                    discountValue : 0,\r\n                    hasOff : false,\r\n                    offValue : 0,\r\n                    image  : \"/images/products/105705191.jpg\",\r\n                    price : 890000\r\n                },\r\n                {\r\n                    id : 4,\r\n                    name : \"پیراهن مردانه فرد کد p.baz.244 \",\r\n                    brand : \"FRED\",\r\n                    hasDiscount : true,\r\n                    discountValue : 59000,\r\n                    hasOff : true,\r\n                    offValue : 51,\r\n                    image  : \"/images/products/113013122.jpg\",\r\n                    price : 29000\r\n                },\r\n\r\n            ],\r\n            basket : {\r\n                basket_items : [{\r\n                    id : 4,\r\n                    name : \"پیراهن مردانه فرد کد p.baz.244 \",\r\n                    brand : \"FRED\",\r\n                    hasDiscount : true,\r\n                    discountValue : 59000,\r\n                    hasOff : true,\r\n                    offValue : 51,\r\n                    image  : \"/images/products/113013122.jpg\",\r\n                    price : 29000,\r\n                    count : 1,\r\n                }],\r\n                basket_items_id : [4],\r\n            }\r\n        }\r\n    }\r\n\r\n    getSearchResult = event => {\r\n        let result      = [];\r\n        let searchVal   = event.target.value;\r\n        if (typeof searchVal === \"string\") {\r\n            this.state.products.map(productInfo => {\r\n                if (productInfo.id === searchVal ||\r\n                    productInfo.name.search(searchVal) >= 0 ||\r\n                    productInfo.brand.search(searchVal) >= 0) {\r\n                    result.push(productInfo.name);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    addToCartHandler = (productID) => {\r\n        let basket       = this.state.basket;\r\n        let productIndex = this.state.products.findIndex((product) => productID === product.id);\r\n        let basketIndex  = basket.basket_items.findIndex((basket) => productID === basket.id);\r\n\r\n        if (basketIndex >= 0) {\r\n            basket.basket_items[basketIndex].count += 1;\r\n            basket.basket_items_id.push(productID);\r\n            this.setState(\r\n                {\r\n                    basket: basket,\r\n                }\r\n            )\r\n        }else if (productIndex >= 0) {\r\n            basket.basket_items.push(this.state.products[productIndex]);\r\n            basket.basket_items_id.push(productID);\r\n            this.setState(\r\n                {\r\n                    basket: basket,\r\n                }\r\n            )\r\n        }\r\n        return this.state.basket;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Header basket={this.state.basket} serchRes={this.getSearchResult}/>\r\n                <Products products={this.state.products} addToCart={this.addToCartHandler}/>\r\n            </div>\r\n        );\r\n    }\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}