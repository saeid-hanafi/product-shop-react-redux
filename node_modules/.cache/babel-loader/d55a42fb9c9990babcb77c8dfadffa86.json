{"ast":null,"code":"/**\n * Set Initialize Basket Items\n * @type {{basket_items: [], basket_items_id: []}}\n */\nlet initializeState = {\n  basket_items: [],\n  basket_items_id: []\n};\n/**\n * Basket Reducer\n * @param state\n * @param action\n * @returns {{basket_items: *[], basket_items_id: *[]}}\n */\n\nexport default (function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initializeState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (action.type === \"INCREASEBASKETPRODUCTCOUNT\") {\n    let basketIndex = action.payload.basketIndex;\n    let newState = { ...state\n    };\n    newState.basket_items[basketIndex].count += 1;\n    return newState;\n  }\n\n  if (action.type === \"ADDPRODUCTINTOBASKET\") {\n    let productInfo = action.payload.product;\n    return { ...state,\n      basket_items: [...state.basket_items, { ...productInfo,\n        count: 1\n      }],\n      basket_items_id: [...state.basket_items_id, productInfo.id]\n    };\n  }\n\n  if (action.type === \"REMOVEPRODUCTFROMBASKET\") {\n    let itemIndex = action.payload.itemIndex;\n    let itemIdIndex = action.payload.itemIDIndex;\n    let newState = { ...state\n    };\n    newState.basket_items.splice(itemIndex, 1);\n    newState.basket_items_id.splice(itemIdIndex, 1);\n    return newState;\n  }\n\n  return state;\n});","map":{"version":3,"names":["initializeState","basket_items","basket_items_id","state","action","type","basketIndex","payload","newState","count","productInfo","product","id","itemIndex","itemIdIndex","itemIDIndex","splice"],"sources":["/var/www/html/reactjs/products/src/reducers/Basket.js"],"sourcesContent":["/**\n * Set Initialize Basket Items\n * @type {{basket_items: [], basket_items_id: []}}\n */\nlet initializeState = {\n    basket_items : [],\n    basket_items_id : [],\n};\n\n/**\n * Basket Reducer\n * @param state\n * @param action\n * @returns {{basket_items: *[], basket_items_id: *[]}}\n */\nexport default (state = initializeState, action) => {\n    if (action.type === \"INCREASEBASKETPRODUCTCOUNT\") {\n        let basketIndex = action.payload.basketIndex;\n        let newState    = {...state};\n        newState.basket_items[basketIndex].count += 1;\n        return newState;\n    }\n\n    if (action.type === \"ADDPRODUCTINTOBASKET\") {\n        let productInfo = action.payload.product;\n        return {...state, basket_items: [...state.basket_items, {...productInfo, count: 1}], basket_items_id: [...state.basket_items_id, productInfo.id]};\n    }\n\n    if (action.type === \"REMOVEPRODUCTFROMBASKET\") {\n        let itemIndex   = action.payload.itemIndex;\n        let itemIdIndex = action.payload.itemIDIndex;\n        let newState    = {...state};\n        newState.basket_items.splice(itemIndex, 1);\n        newState.basket_items_id.splice(itemIdIndex, 1);\n        return newState;\n    }\n\n    return state;\n}"],"mappings":"AAAA;AACA;AACA;AACA;AACA,IAAIA,eAAe,GAAG;EAClBC,YAAY,EAAG,EADG;EAElBC,eAAe,EAAG;AAFA,CAAtB;AAKA;AACA;AACA;AACA;AACA;AACA;;AACA,gBAAe,YAAqC;EAAA,IAApCC,KAAoC,uEAA5BH,eAA4B;EAAA,IAAXI,MAAW;;EAChD,IAAIA,MAAM,CAACC,IAAP,KAAgB,4BAApB,EAAkD;IAC9C,IAAIC,WAAW,GAAGF,MAAM,CAACG,OAAP,CAAeD,WAAjC;IACA,IAAIE,QAAQ,GAAM,EAAC,GAAGL;IAAJ,CAAlB;IACAK,QAAQ,CAACP,YAAT,CAAsBK,WAAtB,EAAmCG,KAAnC,IAA4C,CAA5C;IACA,OAAOD,QAAP;EACH;;EAED,IAAIJ,MAAM,CAACC,IAAP,KAAgB,sBAApB,EAA4C;IACxC,IAAIK,WAAW,GAAGN,MAAM,CAACG,OAAP,CAAeI,OAAjC;IACA,OAAO,EAAC,GAAGR,KAAJ;MAAWF,YAAY,EAAE,CAAC,GAAGE,KAAK,CAACF,YAAV,EAAwB,EAAC,GAAGS,WAAJ;QAAiBD,KAAK,EAAE;MAAxB,CAAxB,CAAzB;MAA8EP,eAAe,EAAE,CAAC,GAAGC,KAAK,CAACD,eAAV,EAA2BQ,WAAW,CAACE,EAAvC;IAA/F,CAAP;EACH;;EAED,IAAIR,MAAM,CAACC,IAAP,KAAgB,yBAApB,EAA+C;IAC3C,IAAIQ,SAAS,GAAKT,MAAM,CAACG,OAAP,CAAeM,SAAjC;IACA,IAAIC,WAAW,GAAGV,MAAM,CAACG,OAAP,CAAeQ,WAAjC;IACA,IAAIP,QAAQ,GAAM,EAAC,GAAGL;IAAJ,CAAlB;IACAK,QAAQ,CAACP,YAAT,CAAsBe,MAAtB,CAA6BH,SAA7B,EAAwC,CAAxC;IACAL,QAAQ,CAACN,eAAT,CAAyBc,MAAzB,CAAgCF,WAAhC,EAA6C,CAA7C;IACA,OAAON,QAAP;EACH;;EAED,OAAOL,KAAP;AACH,CAvBD"},"metadata":{},"sourceType":"module"}